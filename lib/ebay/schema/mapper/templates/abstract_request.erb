# eBay specifies the detail level as a collection.  The usual case is to use
# only a single detail level, so it is more appropriate to add an accessor for 
# the normal case.
# Reads the first detail level from the detail_levels Array.
def detail_level
  @detail_levels.first
end

# Overwrites the details_levels Array with a new Array containing only the 
# value passed in as an argument
def detail_level=(value)
  @detail_levels = Array(value)
end

attr_accessor :rest_api_oauth_token

def requester_credentials
  # Skip RequesterCredentials when using OAuth2
  return nil if respond_to?(:rest_api_oauth_token) && rest_api_oauth_token

  if auth_token || username || password
    XMLRequesterCredentials.new(:ebay_auth_token => auth_token, :username => username, :password => password)
  end
end
